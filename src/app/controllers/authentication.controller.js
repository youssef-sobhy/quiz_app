// Generated by CoffeeScript 1.10.0
(function() {
  angular.module('alMakinah')
  .controller('AuthController', AuthController);

  function AuthController($scope, $auth, $location, toastr) {
    var vm = this;

    vm.registerUser = function () {
      $auth.submitRegistration($scope.registrationForm)

      .then(function () {
        toastr.success('You have successfully registered.');
      }).catch(function (response) {
      });
    };

    vm.loginUser = function () {
      $auth.submitLogin($scope.loginForm)

      .then(function () {
        toastr.success('You have successfully logged in as a user.');
      }).catch(function (response) {
        toastr.error('Wrong email or password.', 'ERROR!');
      });
    };

    vm.loginGameMaker = function () {
      $auth.submitLogin($scope.loginForm,
      {
        config: 'gameMaker'
      })

      .then(function () {
        toastr.success('You have successfully logged in as a game maker.');
      }).catch(function (response) {
        toastr.error('Wrong email or password.', 'ERROR!');
      });
    };
  }

}).call(this);
