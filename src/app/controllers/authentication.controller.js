// Generated by CoffeeScript 1.10.0
(function() {
  angular.module('alMakinah')
  .controller('AuthController', AuthController);

  function AuthController($scope, $auth, $log, toastr, AuthService) {
    var vm = this;
    // vm.signedIn = AuthService.signedIn;

    // $scope.$on('signedIn', function () {
    //   vm.signedIn = AuthService.signedIn;
    // });

    // $log.log(vm.signedIn);

    AuthService.getCurrentUser()

    .then(function (response) {
      vm.currentUser = response;
      vm.signedIn = true;
    });

    vm.registerUser = function () {
      AuthService.registerUser($scope.registrationForm)
    };

    vm.loginUser = function () {
      AuthService.loginUser($scope.loginForm)
    };

    vm.loginGameMaker = function () {
      AuthService.loginGameMaker($scope.loginForm)
    };

    vm.logOutUser = function () {
      AuthService.logOutUser()
    };

    vm.logOutGameMaker = function () {
      AuthService.logOutGameMaker()
    };
  }

}).call(this);
