.quiz{"ng-controller" => "quizController as vm"}
  %h1 {{ vm.quiz.title }}
  %p {{ vm.quiz.passing_score }}
  %button{"ng-click" => "vm.delete()", :type => "button"} Delete
  %button{"ng-click" => "vm.showEditQuiz()"} Edit
  %form{"ng-hide" => "vm.editQuiz", "ng-submit" => "vm.updateQuiz()"}
    %div
      %label{:for => "title"} Title
      %input#title{:name => "title", "ng-model" => "vm.quiz.title", :required => "", :type => "text"}
    %br
    %div
      %label{:for => "passing_score"} Passing Score
      %input{:max => "100", :min => "1", :name => "passing_score", "ng-model" => "vm.quiz.passing_score", :type => "number"}
    %div
      %button{:type => "submit"} Update
  .questions{"ng-controller" => "QuestionsController as vm"}
    .question{"ng-init" => "choices = question.choices; index = $index + 1", "ng-repeat" => "question in vm.questions"}
      %p{"ng-dblclick" => "editing = true", "ng-hide" => "editing"} {{ question.question }}
      %form{"ng-submit" => "vm.editQuestion(question); editing = false"}
        %input{:name => "question", "ng-model" => "question.question", "ng-show" => "editing", :type => "text"}
      %button{"ng-click" => "vm.deleteQuestion(question)", :type => "button"} Delete
      %div{"ng-repeat" => "choice in choices"}
        %input{:id => "question{{ index }}choice{{ $index }}", :name => "question{{ index }}", :type => "radio"}
        %label{:for => "question{{ index }}choice{{ $index }}"} {{ choice.choice }}
    %p
      %a{"ui-sref" => "game_maker.topic.quiz.new_question"} Add a question
    %ui-view